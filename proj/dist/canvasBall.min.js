!function(t){t.fn.CanvasBall=function(n){var a={BALL_INPACT:1e3,BALL_SIZE:128,BALL_RADIUS:50,PARENT_CONTAINER:"body",DYNAMIC_BALL:!1,BALL_SIZE_DYNAMIC:!1,BALL_SPEED:1.2},a=t.extend(a,n||{}),i=this[0],r=i.getContext("2d"),e=document.querySelectorAll(a.PARENT_CONTAINER)[0],o=a.BALL_SIZE,h=a.BALL_RADIUS,m=a.DYNAMIC_BALL,l=a.BALL_SIZE_DYNAMIC,d=a.BALL_SPEED,_=a.BALL_INPACT,s=[],u={init:function(){this.render(),this._eventHandler()},render:function(){function t(){n._animationRequest(t),n._drawBalls(),m&&n._ballAnimation()}var n=this;this._resizeWindow(),this._animationRequest(t)},_eventHandler:function(){window.onresize=this._resizeWindow},_randomBalls:function(){s=[];for(var t=0;o>t;t++)s.push(u._genarateBall())},_genarateBall:function(){var t={},n=l?this._randomNumber(.8,1)*h:h,a=this._randomNumber(250,256,!0);return t.vx=Math.pow(-1,Math.floor(1e3*Math.random()))*Math.random()*d,t.vy=Math.pow(-1,Math.floor(1e3*Math.random()))*Math.random()*d,t.x=this._randomNumber(n,i.width-n),t.y=this._randomNumber(n,i.height-n),t.r=n,t.impact=0,t.eColor="rgba("+this._randomNumber(0,256,!0)+","+this._randomNumber(0,256,!0)+","+this._randomNumber(0,256,!0)+","+this._randomNumber(.2,.7).toFixed(2)+")",t.sColor="rgba("+a+","+a+","+a+","+this._randomNumber(.2,.7).toFixed(2)+")",t},_randomNumber:function(t,n,a){return a?Math.floor(Math.random()*Math.abs(t-n)+Math.min(t,n)):Math.random()*Math.abs(t-n)+Math.min(t,n)},_drawBalls:function(){r.clearRect(0,0,i.width,i.height);for(var t=0;t<s.length;t++){var n,a=s[t];r.beginPath(),r.arc(a.x,a.y,a.r,0,2*Math.PI),n=r.createRadialGradient(a.x,a.y,0,a.x,a.y,a.r),n.addColorStop(0,"#fff"),n.addColorStop(1,a.eColor),r.fillStyle=n,r.fill()}},_ballAnimation:function(){for(var t=0;o>t;t++){var n=s[t];n.x+=n.vx,n.y+=n.vy,n.x<n.r&&(n.x=n.r,n.vx=-n.vx,n.impact++),n.x>i.width-n.r&&(n.x=i.width-n.r,n.vx=-n.vx,n.impact++),n.y<n.r&&(n.y=n.r,n.vy=-n.vy,n.impact++),n.y>i.height-n.r&&(n.y=i.height-n.r,n.vy=-n.vy,n.impact++),n.impact>_&&s.splice(t,1,this._genarateBall())}},_resizeWindow:function(){i.width=e.clientWidth,i.height=e.clientHeight,u._randomBalls()},_animationRequest:function(t){return(requestAnimationFrame||webkitRequestAnimationFrame||mozRequestAnimationFrame)(t)}};return u.init(),this.toggleAnimate=function(t){t&&(m=t),!t&&(m=!m)},this.toggleSize=function(t){t&&(o=t),l=!l},this.toggleSpeed=function(t){d=t,u._randomBalls()},this.paint=function(){return r.beginPath(),r}(),this}}(jQuery);